# 4.1 The Tangle

This specification introduces the data structure for the ledger used in the IOTA protocol, and its main terminology.

## 4.1.1 Ledger structure

The Tangle represents the ledger data structure where messages are stored.
In mathematical terms, the Tangle is a generalized Directed Acyclic (multi)Graph, with messages as vertices, and marked directed edges (marks \in\{0,1\}, 0 for weak, 1 for strong) to link messages.
The acyclicity condition means that there is no directed cycle composed of edges of arbitrary type.

## 4.2.2 Main definitions

We say that (a message) $x$ _strongly approves_ y if there is a directed path of strong edges from $x$ to $y$, and $x$ _weakly approves_ $y$ if there is a directed path of edges of any type from $x$ to $y$. 
Similarly, we say that the _strong past cone_ of $x$ is the set of all messages strongly approved by $x$, and the _weak past cone_ of $x$ is the set of all messages weakly approved by $x$. Furthermore, we define the _future cone_ of a message $x$ as the set of messages that weakly approve $x$. Please note that, unlike its past cone, the future cone of a message changes over time.

Each message has a possible number of outgoing edges from 1 to 8 (with 2 as a default value), where at least one is a strong edge.
We assume that there is exactly one message, called the _genesis_, with no outgoing edges and that the genesis is in the weak past cone of every other message.

Finally, we introduce the following definitions:
* _height_: the length of the longest oriented path to the genesis;
* _depth_: the length of the longest reverse-oriented path to some (recent) message.

In the figure below it is shown an example of the Tangle (strong edges are with a continuous line, weak edges are with a dotted line). Message $X$ strongly approves $E$, $B$ and the genesis (strong past cone) and weakly approves $F$ and $C$ (weak past cone). Moreover, its future cone is formed by messages $L$, $M$, $N$ and $O$. In accordance with the above-mentioned definitions, the height of $X$ is 3 (the height of the Tangle is 5), while its depth is 2.

![](https://i.imgur.com/PE6kGn9.png)
